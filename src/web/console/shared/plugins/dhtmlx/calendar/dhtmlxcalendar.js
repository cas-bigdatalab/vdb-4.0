/*
===================================================================
Copyright DHTMLX LTD. http://www.dhtmlx.com
This code is obfuscated and not allowed for any purposes except 
using on sites which belongs to DHTMLX LTD.

Please contact sales@dhtmlx.com to obtain necessary 
license for usage of dhtmlx components.
===================================================================
*/function JE(contId,QE,options){this.scriptName='dhtmlxcalendar.js';this.entObj=document.createElement("DIV");this.winHeader=null;this.style="dhtmlxdblcalendar";this.uid='sc&dblCal'+Math.round(1000000*Math.random());this.numLoaded=2;this.options={RZ:false,headerText:'JE',QZ:'',UX:false,aan:"Close",Yv:"Minimize",aal:"Today",msgClear:"Clear"};if(options)for(x in options)this.options[x]=options[x];this.aL=document.createElement("TABLE");this.aL.cellPadding="0px";this.aL.cellSpacing="0px";this.aL.className=this.style;this.entObj.appendChild(this.aL);var entRow=this.aL.insertRow(0);var aaY=entRow.insertCell(0);aaY.style.paddingRight='2px';var ach=entRow.insertCell(1);this.PU=new dhtmlxCalendarObject(aaY,false,this.options);this.PU.VF=this;this.PU.ck(this.MW);this.Qx=new dhtmlxCalendarObject(ach,false,this.options);this.Qx.VF=this;this.Qx.ck(this.JJ);this.Rc=null;this.QO=null;this.fI=this.PU.fI;this.Yd=this.PU.Yd;this.dc=this.PU.dc;this.onDrag=this.PU.onDrag;this.yj=this.PU.yj;dhtmlxEventable(this);var self=this;if(typeof(contId)!='string')this.con=contId;else this.con=document.getElementById(contId);if(QE)this.zv()};dhtmlXDblCalendarObject=JE;JE.prototype.setHeader=function(Yi,aaG,XA){this.PU.options.RZ=this.options.RZ=Yi;this.PU.options.UX=this.options.UX=aaG;if(XA)this.options.QZ=this.PU.options.QZ=XA;if(this.QE)this.yj()};JE.prototype.Vs=function(Xw,Xt){var cs=[this.PU,this.Qx];for(var ind=0;ind<cs.length;ind++){cs[ind].options.VG=[parseInt(Xw),parseInt(Xt)];cs[ind].Ua=[];for(var i=Xw;i<=Xt;i++)cs[ind].Ua.push(i)}};JE.prototype.show=function(){this.parent.style.display='block'};JE.prototype.hide=function(){this.parent.style.display='none'};JE.prototype.zL=function(){if(this.options.RZ){var headerRow=this.aL.insertRow(0).insertCell(0);headerRow.colSpan=2;headerRow.align='right';this.winHeader=document.createElement('DIV');headerRow.appendChild(this.winHeader)};this.WP(this.con)};JE.prototype.zv=function(){if(!this.parent)this.zL();this.yj();this.PU.zv();this.Qx.zv();this.QE=true};JE.prototype.Re=function(lang,Sp){this.numLoaded=0;if(Sp)this.QO=Sp;this.PU.Re(lang,this.Xo);this.Qx.Re(lang,this.Xo)};JE.prototype.Xo=function(status){var self=this.VF;self.numLoaded++;if(self.numLoaded==2){for(param in this.options)self.options[param]=this.options[param];if(this.QE)self.yj();if(self.QO)self.QO(status)}};JE.prototype.WP=function(Vk){if(Vk){this.parent=Vk;this.parent.style.display='block';this.parent.appendChild(this.entObj)}};JE.prototype.ck=function(aQ){this.Rc=aQ};JE.prototype.MW=function(date){date=new Date(date);this.VF.Qx.QW(date,null);if(this.VF.Rc)this.VF.Rc(date,this,"left");return true};JE.prototype.JJ=function(date){this.VF.PU.QW(null,date);if(this.VF.Rc)this.VF.Rc(date,this,"right");return true};JE.prototype.QW=function(){this.Qx.QW(null,this.PU.date[0]);this.PU.QW(this.Qx.date[0],null)};JE.prototype.minimize=function(){if(!this.winHeader)return;var tr=this.winHeader.parentNode.parentNode.nextSibling;tr.parentNode.parentNode.style.width=parseInt(tr.parentNode.parentNode.offsetWidth)+'px';if(tr)tr.style.display=(tr.style.display=='none')?'block':'none'};JE.prototype.setDate=function(dateFrom,dateTo){this.PU.setDate(dateFrom);this.Qx.setDate(dateTo);this.PU.QW(null,this.Qx.date[0]);this.Qx.QW(this.PU.date[0],null)};JE.prototype.setDateFormat=function(format){this.PU.setDateFormat(format);this.Qx.setDateFormat(format)};JE.prototype.Yi=function(){return(this.parent.style.display=='block'?true:false)};JE.prototype.setHolidays=function(dates){this.PU.setHolidays(dates);this.Qx.setHolidays(dates)};function dhtmlxCalendarObject(base,QE,options){if(typeof(base)=="object"&& !base.tagName){options={};for(i in base)options[i]=base[i]};this.QE=base.autoDraw||QE||false;this.contId=base.parent||base;this.scriptName='dhtmlxcalendar.js';this.date=[this.wA(new Date())];this.selDate=[this.wA(new Date())];this.curDate=this.wA(new Date());this.entObj=document.createElement("DIV");this.TY=document.createElement("TABLE");this.Tt=document.createElement("TABLE");this.TM=document.createElement("TABLE");this.parent=null;this.style="dhtmlxcalendar";this.skinName=dhtmlx.skin||"";this.Rc=null;this.Vo=null;this.WR=null;this.insensitiveDates=null;this.XM=null;this.hotCell=null;this.winHeader=null;this.QO=null;this.YE=false;this.minimized=false;this.uid='sc&Cal'+Math.round(1000000*Math.random());this.holidays=null;this.EP=false;this.daysCells={};this.weekCells={};this.con=[];this.conInd=[];this.activeCon=null;this.activeConInd=0;this.userPosition=false;this.useIframe=true;this.asz=this;dhtmlxEventable(this);this.options={adq:"&laquo;",aed:null,adr:"&raquo;",aeg:null,VG:[1900,2100],Zg:false,Uw:false,RZ:false,headerText:'Calendar header',QZ:'TMX',UX:true};defLeng={XN:'en-us',dateformat:'%Y-%m-%d',RB:["January","February","March","April","May","June","July","August","September","October","November","December"],Vx:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],abo:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Zo:["Su","Mo","Tu","We","Th","Fr","Sa"],weekend:[0,6],Yg:0,aan:"Close",Yv:"Minimize",aal:"Today",msgClear:"Clear"};if(!window.QV)window.QV={};window.QV['en-us']=defLeng;if(window.Rt)window.Rt[window.Rt.length]=this;else window.Rt=[this];dE(document.body,"click",function(ev){for(eS in window.Rt){var wCal=window.Rt[eS];if(wCal.con[0].nodeName=='INPUT')wCal.hide()}});for(lg in defLeng)this.options[lg]=defLeng[lg];if(options)for(param in options)this.options[param]=options[param];this.Re();if(options)for(param in options)this.options[param]=options[param];this.Ua=Array();with(this.options)for(var i=VG[0];i<=VG[1];i++)this.Ua.push(i);if(QE!==false)this.zv(options);return this};dhtmlXCalendarObject=dhtmlxCalendarObject;dhtmlxCalendarObject.prototype={zL:function(){var self=this;if(!this.entObj.className)this.setSkin(this.skinName);this.entObj.style.position="relative";if(this.options.RZ){this.winHeader=document.createElement('DIV');this.entObj.appendChild(this.winHeader)};this.aL=document.createElement("TABLE");this.aL.className="entbox";with(this.aL){cellPadding="0px";cellSpacing="0px";width='100%'};this.entObj.appendChild(this.aL);var acl=this.aL.insertRow(0).insertCell(0);with(this.TY){cellPadding="0px";cellSpacing="0px";width='100%';align='center'};this.TY.className="dxcalmonth";acl.appendChild(this.TY);var abM=this.aL.insertRow(1).insertCell(0);abM.appendChild(this.Tt);with(this.Tt){cellPadding="0px";cellSpacing="0px";width='100%';align='center'};this.Tt.className="dxcaldlabel";var hc=this.aL.insertRow(2).insertCell(0);hc.appendChild(this.TM);with(this.TM){cellPadding="1px";cellSpacing="0px";width='100%';align='center'};if(_isIE||cn)this.TM.className="dxcaldays_ie";else this.TM.className="dxcaldays";this.TM.onmousemove=function(e){self.Pg(e)};this.TM.onmouseout=function(){self.Gx()};if(typeof(this.contId)!='string'){if(!this.contId.nodeName){for(i in this.contId){this.con[i]=document.getElementById(this.contId[i]);this.selDate[i]=this.wA(new Date());this.conInd[this.contId[i]]=i}}else{this.con[0]=this.contId;this.conInd[this.contId.id]=0}}else{this.con[0]=document.getElementById(this.contId);this.conInd[this.contId]=0};this.activeCon=this.con[0];if(this.con[0].nodeName=='INPUT'){var div=document.createElement('DIV');with(div.style){position='absolute';display='none';zIndex="99"};this.WP(div);document.body.appendChild(div);conOnclick=function(e){if(self.Yi())self.hide();else{if(self.activeCon!=self.con[self._activeConInd(this.id)]){self.activeCon=self.con[self.activeConInd];var val=self.activeCon.value.split(" ");if(self.EP)self.setFormatedTime(null,val[1]);self.setDate(self.Ul(val[0]))};self.show(this.id)};if(this.id!=self.activeCon.id)self.show(this.id);e=(e||event);(e||event).cancelBubble=true};this.Rc=function(date){self.hide();self.activeCon.focus();return true};conOnkeydown=function(e){if((e||window.event).keyCode==27)self.hide();else if((e||window.event).keyCode==13)self.show()};for(i in this.con){this.con[i].onclick=conOnclick;this.con[i].onkeydown=conOnkeydown}}else this.WP(this.con[0]);if(_isIE&&this.useIframe){if(this.parent.style.zIndex==0){this.parent.style.zIndex=100};if(this.ifr==undefined&&this.VF==undefined){this.ifr=document.createElement("IFRAME");this.ifr.style.position="absolute";this.ifr.style.zIndex=1;this.ifr.frameBorder="no";this.ifr.style.top=this.entObj.offsetTop+'px';this.ifr.style.left=this.entObj.offsetLeft+'px';this.ifr.scrolling='no';this.ifr.style.display=this.parent.style.display;this.ifr.className=this.style+(this.skinName?'_':"")+this.skinName+"_ifr";this.parent.appendChild(this.ifr)}};this.entObj.onclick=function(e){e=e||event;if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true};if(!this.entObj.className)this.setSkin(this.skinName)},yj:function(){if(this.VF|| !this.options.RZ|| !this.winHeader)return;var self=this;while(this.winHeader.hasChildNodes())this.winHeader.removeChild(this.winHeader.firstChild);this.winHeader.className='winHeader';this.winHeader.onselectstart=function(){return false};this.headerLabel=document.createElement('div');this.headerLabel.className='winTitle';this.headerLabel.appendChild(document.createTextNode(this.options.headerText));this.headerLabel.setAttribute('title',this.options.headerText);this.winHeader.appendChild(this.headerLabel);if(this.options.UX){this.winHeader.onmousedown=function(e){self.Yd(e)}};if(this.options.QZ.indexOf('X')>=0){var VJ=document.createElement('DIV');VJ.className='btn_close';VJ.setAttribute('title',this.options.aan);VJ.onmousedown=function(e){(e||event).cancelBubble=true};VJ.onclick=function(e){(e||event).cancelBubble=true;self.hide()};this.winHeader.appendChild(VJ)};if(this.options.QZ.indexOf('M')>=0){var Yl=document.createElement('DIV');Yl.className='btn_mini';Yl.setAttribute('title',this.options.Yv);Yl.onmousedown=function(e){(e||event).cancelBubble=true};Yl.onclick=function(e){this.className=this.className=='btn_mini'?'btn_maxi':'btn_mini';(e||event).cancelBubble=true;self.minimize()};this.winHeader.appendChild(Yl)};if(this.options.QZ.indexOf('C')>=0){var btnClear=document.createElement('DIV');btnClear.className='btn_clear';btnClear.setAttribute('title',this.options.msgClear);btnClear.onmousedown=function(e){(e||event).cancelBubble=true};btnClear.onclick=function(e){(e||event).cancelBubble=true;self.con.value="";self.hide()};this.winHeader.appendChild(btnClear)};if(this.options.QZ.indexOf('T')>=0){var VZ=document.createElement('DIV');VZ.className='btn_today';VZ.setAttribute('title',this.options.aal);VZ.onmousedown=function(e){(e||event).cancelBubble=true};VZ.onclick=function(e){(e||event).cancelBubble=true;self.setDate(new Date())};this.winHeader.appendChild(VZ)}},Po:function(){var self=this;if(this.TY.hasChildNodes())this.TY.removeChild(this.TY.firstChild);var row=this.TY.insertRow(0);var Ym=row.insertCell(0);var aaf=row.insertCell(1);var XK=row.insertCell(2);Ym.align="left";Ym.className='month_btn_left';var btnLabel=document.createElement("div");btnLabel.innerHTML=" ";Ym.appendChild(btnLabel);Ym.onclick=function(){self.abH()};Ym.onselectstart=function(){return false};XK.align="right";XK.className='month_btn_right';var btnLabel=document.createElement("div");btnLabel.innerHTML=" ";XK.appendChild(btnLabel);XK.onclick=function(){self.nextMonth()};XK.onselectstart=function(){return false};aaf.align='center';var ZA=document.createElement("TABLE");with(ZA){cellPadding="0px";cellSpacing="0px";align="center"};var mRow=ZA.insertRow(0);var adS=mRow.insertCell(0);var abN=mRow.insertCell(1);var cYear=mRow.insertCell(2);aaf.appendChild(ZA);var date=this.date[this._activeConInd()];this.planeMonth=document.createElement('DIV');this.planeMonth.asz=this;this.planeMonth.appendChild(document.createTextNode(this.options.RB[date.getMonth()]));this.planeMonth.className='planeMonth';adS.appendChild(this.planeMonth);if(this.options.Zg){this.planeMonth.style.cursor='pointer';this.aaX=new dhtmlxRichSelector({SB:this.planeMonth,valueList:[0,1,2,3,4,5,6,7,8,9,10,11],ZH:this.options.RB,SI:this.options.RB[date.getMonth()],onSelect:this.ZX,YI:false});this.aaX.asz=this};abN.appendChild(document.createTextNode(","));abN.className='comma';this.planeYear=document.createElement('DIV');this.planeYear.asz=this;this.planeYear.appendChild(document.createTextNode(date.getFullYear()));this.planeYear.className='planeYear';cYear.appendChild(this.planeYear);if(this.options.Uw){this.planeYear.style.cursor='pointer';this.abi=new dhtmlxRichSelector({SB:this.planeYear,valueList:this.Ua,ZH:this.Ua,SI:date.getFullYear(),onSelect:this.aae,ZW:true,ZQ:true,YI:true});this.abi.asz=this}},Nf:function(){var self=this;if(!this.Tt.hasChildNodes()){var row=this.Tt.insertRow(-1);row.className="daynames";for(var i=0;i<7;i++){(this.weekCells[i]=row.insertCell(i)).appendChild(document.createTextNode(this.abu(i)))}}else{for(var i=0;i<7;i++)this.weekCells[i].childNodes[0].nodeValue=this.abu(i)}},Pp:function(){var self=this;var row={},cell;if(!this.TM.hasChildNodes()){for(var YP=0;YP<6;YP++){row=this.TM.insertRow(-1);this.daysCells[YP]={};for(var i=0;i<7;i++){(this.daysCells[YP][i]=row.insertCell(-1)).appendChild(document.createTextNode(""))}}};var date=this.date[this._activeConInd()],Qn=new Date(date);var selectedDate=this.selDate[this.activeConInd].toDateString();Qn.setDate(1);var day1=(Qn.getDay()-this.options.Yg)%7;if(day1<=0)day1+=7;Qn.setDate(-day1);Qn.setDate(Qn.getDate()+1);if(Qn.getDate()<Qn.getDay())Qn.setMonth(Qn.getMonth()-1);var curDay=null;for(var YP=0;YP<6;YP++){for(var i=0;i<7;i++){if(curDay==Qn.getDate())Qn.setDate(Qn.getDate()+1);curDay=Qn.getDate();cell=this.daysCells[YP][i];cell.setAttribute('id',this.uid+Qn.getFullYear()+Qn.getMonth()+Qn.getDate());cell.childNodes[0].nodeValue=Qn.getDate();cell.aaF=Qn.toString();cell.className="thismonth";cell.onclick=null;if(Qn.getMonth()!=date.getMonth())cell.className="othermonth";if(this.insensitiveDates){var c=false;for(var j=0;j<this.insensitiveDates.length;j++){var s=/\.|\-/.exec(this.insensitiveDates[j]);if(s)var f=(this.insensitiveDates[j].split(s).length==2?'%m'+s+'%d':'%Y'+s+'%m'+s+'%d');if(s&&this.Ul(f,Qn)==this.insensitiveDates[j]||Qn.getDay()==this.insensitiveDates[j]){this.Be(cell,"insensitive");Qn.setDate(Qn.getDate()+1);c=true;break}};if(c)continue};if(this.Vo&&this.Vo instanceof Array){var c=true;for(var j=0;j<this.Vo.length;j++){var s=/\.|\-/.exec(this.Vo[j]);var f=(this.Vo[j].split(s).length==2?'%m'+s+'%d':'%Y'+s+'%m'+s+'%d');if(this.Ul(f,Qn)==this.Vo[j])c=false};if(c){this.Be(cell,"insensitive");Qn.setDate(Qn.getDate()+1);continue}};if((this.Vo&&(Qn.valueOf()<this.Vo.valueOf()))||(this.WR&&(Qn.valueOf()>this.WR.valueOf()))){this.Be(cell,"insensitive");Qn.setDate(Qn.getDate()+1);continue};if(this.abE(i)&&Qn.getMonth()==date.getMonth())cell.className="weekend";if(Qn.toDateString()==this.curDate.toDateString())this.Be(cell,"current");if(Qn.toDateString()==selectedDate){this.XM=cell;this.Be(cell,"selected")};if(this.holidays)for(var j=0;j<this.holidays.length;j++){var s=/\.|\-/.exec(this.holidays[j]);var f=(this.holidays[j].split(s).length==2?'%m'+s+'%d':'%Y'+s+'%m'+s+'%d');if(this.Ul(f,Qn)==this.holidays[j])this.Be(cell,"holiday")};cell.onclick=function(){var date=this.aaF;self.setDate(date);if(!self.Rc||self.Rc(date)){self.callEvent("onClick",[date])}};Qn.setDate(Qn.getDate()+1)}}},zv:function(){if(!this.parent)this.zL();var self=this;if(this.Ub){setTimeout(function(){self.zv();return},20);return};if(this.winHeader&& !this.winHeader.hasChildNodes())this.yj();this.Po();this.Nf();this.Pp();this.QE=true},Re:function(language,Sp){if(Sp)this.QO=Sp;if(!language){language="en-us"};this.Ub=language;if(!language){this.QR(false);return};if(language==this.options.XN){this.QR(true);return};var acj=window.QV;if(acj[language]){for(lg in acj[language])this.options[lg]=acj[language][lg];this.QR(true);return};var src,path=null;var scripts=document.getElementsByTagName('SCRIPT');for(var i=0;i<scripts.length;i++)if(src=scripts[i].getAttribute('src'))if(src.indexOf(this.scriptName)>=0){path=src.substr(0,src.indexOf(this.scriptName));break};if(path===null){this.QR(false);return};this.options.XN=language;var aaw=path+'lang/'+language+'.js';for(var i=0;i<scripts.length;i++)if(src=scripts[i].getAttribute('src'))if(src==aaw)return;var script=document.createElement('SCRIPT');script.setAttribute('language',"Java-Script");script.setAttribute('type',"text/javascript");script.setAttribute('src',aaw);document.body.appendChild(script)},QR:function(status){this.Ub=null;if(this.QE)this.zv();if(this.QO&&(typeof(this.QO)=='function'))this.QO(status)},Hl:function(Ug){var adj=window.Rt;for(var i=0;i<adj.length;i++){if(adj[i].Ub==Ug.XN){for(lg in Ug)adj[i].options[lg]=Ug[lg];adj[i].QR(true)}};window.QV[Ug.XN]=Ug},show:function(conId){this.activeCon=this.con[this._activeConInd(conId)];this.parent.style.display='';this.parent.style.visibility='hidden';if(this.activeCon.nodeName=='INPUT'&& !this.userPosition){if(typeof window.innerWidth=='number'){docWidth=window.innerWidth;docHeight=window.innerHeight}else{docWidth=document.body.offsetWidth;docHeight=document.body.offsetHeight};var aLeft=ej(this.activeCon);var aTop=dg(this.activeCon)-(this.activeCon.parentNode.scrollTop);;if(aTop+this.parent.offsetHeight>docHeight)this.parent.style.top=aTop-this.parent.offsetHeight+this.activeCon.offsetHeight+'px';else this.parent.style.top=aTop+'px';if(aLeft+this.parent.offsetWidth+this.activeCon.offsetWidth>docWidth)this.parent.style.left=aLeft+'px';else this.parent.style.left=aLeft+this.activeCon.offsetWidth+'px'};if(this.ifr!=undefined){this.ifr.style.top=this.entObj.offsetTop+'px';this.ifr.style.left=this.entObj.offsetLeft+'px';this.ifr.style.display='block'};if(this.EP&& !this.minimized){this.tp.Yy(ej(this.parent)+30,dg(this.parent)+147);this.tp.show()};this.parent.style.visibility='visible';return this},hide:function(){this.parent.style.display='none';if(this.ifr!=undefined)this.ifr.style.display='none';if(this.EP)this.tp.hide();return this},setDateFormat:function(format){this.options.dateformat=format},wA:function(date){date=new Date(date);var ndate=new Date(date.getFullYear(),date.getMonth(),date.getDate());return ndate},WP:function(Vk){if(Vk){this.parent=Vk;this.parent.appendChild(this.entObj)}},setDate:function(date,conId){tmpDate=date;conId=this._activeConInd(conId);this.activeCon=this.con[conId];if(typeof date!="Object")date=this.WK(null,tmpDate);if(isNaN(date))date=new Date(tmpDate);if(!isNaN(date)){this.date[conId]=new Date(this.wA(date));this.selDate[conId]=new Date(this.wA(date))};if(this.QE){this.zv()};if(this.activeCon.nodeName=='INPUT')this.activeCon.value=this.Ul(this.options.dateformat,date)+(this.EP?" "+this.getFormatedTime():"")},Be:function(obj,acd){obj.className+=' '+acd},abq:function(obj){obj.className=obj.className.toString().split(' ')[0]},XW:function(obj){obj.className=obj.className.toString().replace(/hover/,'')},setSkin:function(abg){this.skinName=abg;var mode="";mode=(this.minimized?"_mini":(this.EP?"_long":(this.options.RZ?"_maxi":"")));this.entObj.className=this.style+(abg?'_'+abg:'');if(mode)this.entObj.className+=" "+this.entObj.className+mode;if(this.ifr!=undefined){this.ifr.className=this.style+(abg?'_'+abg:'')+mode+"_ifr"};if(this.EP)(this.Yi()&& !this.minimized)?this.tp.show():this.tp.hide()},getDate:function(conId){return this.selDate[this._activeConInd(conId)].toString()},nextMonth:function(){var date=this.date[this._activeConInd()],month;date.setDate(1);date.setMonth(month=date.getMonth()+1);this.callEvent("onChangeMonth",[(month+1>12?1:month+1),month||12]);if(this.QE)this.zv()},abH:function(){var date=this.date[this._activeConInd()],month;date.setDate(1);date.setMonth(month=date.getMonth()-1);this.callEvent("onChangeMonth",[month+1||12,month+2>12?1:(month+2||12)]);if(this.QE)this.zv()},ck:function(aQ){this.attachEvent("onClick",aQ)},Ul:function(dateformat,date,conInd){if(!dateformat)dateformat=this.options.dateformat;if(!date)date=this.selDate[this._activeConInd(conInd)];date=new Date(date);var out='';var plain=true;for(var i=0;i<dateformat.length;i++){var replStr=dateformat.substr(i,1);if(plain){if(replStr=='%'){plain=false;continue};out+=replStr}else{switch(replStr){case 'e':replStr=date.getDate();break;case 'd':replStr=date.getDate();if(replStr.toString().length==1)replStr='0'+replStr;break;case 'j':var x=new Date(date.getFullYear(),0,0,0,0,0,0);replStr=Math.ceil((date.valueOf()-x.valueOf())/1000/60/60/24-1);while(replStr.toString().length<3)replStr='0'+replStr;break;case 'a':replStr=this.options.Zo[date.getDay()];break;case 'W':replStr=this.options.abo[date.getDay()];break;case 'c':replStr=1+date.getMonth();break;case 'm':replStr=1+date.getMonth();if(replStr.toString().length==1)replStr='0'+replStr;break;case 'b':replStr=this.options.Vx[date.getMonth()];break;case 'M':replStr=this.options.RB[date.getMonth()];break;case 'y':replStr=date.getFullYear();replStr=replStr.toString().substr(2);break;case 'Y':replStr=date.getFullYear()};out+=replStr;plain=true}};return out},WK:function(dateformatarg,date,conInd){if(!date|| !typeof date=='string'||this.Ul(dateformatarg).length!=date.length)return date;if(self.EP){self.EP.setFormatedTIme(null,date.split(" ")[1])};if(!dateformatarg)dateformatarg=this.options.dateformat;date=date.split(" ")[0];function rU(val){var anb=new Array(this.options.Vx,this.options.RB);for(var j=0;j<anb.length;j++){for(var i=0;i<anb[j].length;i++)if(anb[j][i].indexOf(val)==0)return i};return-1};var outputDate=new Date(2008,0,1);var j=0;for(var i=0;i<dateformatarg.length;i++){var adl=dateformatarg.charAt(i);if(adl=="%"){var ahE=dateformatarg.charAt(i+1);var aiF=dateformatarg.indexOf("%",i+1);var agi=dateformatarg.substr(i+2,aiF-i-1-1);var afA=date.indexOf(agi,j);if(agi=="")afA=date.length;if(afA== -1)return null;var value=date.substr(j,afA-j);if(ahE!='M'&&ahE!='b')value-=0;j=afA+agi.length;switch(ahE){case 'd':case 'e':outputDate.setDate(parseFloat(value));break;case "c":case "m":outputDate.setMonth(parseFloat(value)-1);break;case "M":var val=rU.call(this,value);if(val!= -1)outputDate.setMonth(parseFloat(val));else return null;break;case "b":var val=rU.call(this,value);if(val!= -1)outputDate.setMonth(parseFloat(val));else return null;break;case 'Y':outputDate.setFullYear(parseFloat(value));break;case 'y':var AR=parseFloat(value);outputDate.setFullYear(((AR>20)?1900:2000)+AR);break}}};if(isNaN(outputDate))outputDate=new Date(this.selDate[this._activeConInd]);this.setDate(outputDate,conInd);return this.selDate[this.activeConInd]},abE:function(k){var q=k+this.options.Yg;if(q>6)q-=7;for(var i=0;i<this.options.weekend.length;i++)if(this.options.weekend[i]==q)return true;return false},abu:function(k){var q=k+this.options.Yg;if(q>6)q=q-7;return this.options.Zo[q]},Yi:function(){return this.parent.style.display!='none'},Pg:function(e){e=e||event;var cell=e.target||e.srcElement;if(cell.className.toString().indexOf('insensitive')>=0){this.Gx()}else{if(this.hotCell)this.XW(this.hotCell);this.Be(cell,'hover');this.hotCell=cell}},Gx:function(){if(this.hotCell){this.XW(this.hotCell);this.hotCell=null}},_activeConInd:function(ind){if(!this.parent)this.zL();return(this.activeConInd=(this.conInd[ind]==0?'0':this.conInd[ind])||(ind==0?'0':ind)||this.conInd[this.activeCon.id]||0)}};function dhtmlxRichSelector(YX){for(x in YX)this[x]=YX[x];this.ZB=this.SI;if(!this.Ya)this.Ya=7;var self=this;this.Wm=null;this.SB.onclick=function(){self.show()};this.editor=document.createElement('TEXTAREA');this.editor.value=this.SI;this.editor._s=this;this.editor.className='dhtmlxRichSelector';this.editor.onfocus=this.onFocus;this.editor.onblur=this.onBlur;this.selector=document.createElement('SELECT');this.selector.size=this.Ya;this.selector.className='dhtmlxRichSelector';if(this.valueList)for(var i=0;i<this.valueList.length;i++)this.selector.options[i]=new Option(this.ZH[i],this.valueList[i],false,false);this.selector._s=this;this.selector.onfocus=this.onFocus;this.selector.onblur=this.onBlur;this.selector.onclick=function(){window.t=self;self.onSelect(self.selector.value);clearTimeout(self.Wm)};this.selector.gg=function(Value,aay){var Select=this;Value=Value.toString().toUpperCase();if(!aay)aay=false;for(var i=0;i<Select.length;i++){var i_value=Select[i].text.toUpperCase();if(aay){if(i_value==Value)return i}else{if(i_value.indexOf(Value)==0)return i}};if(Select._s.ZW){if(Select._s.ZQ)if(isNaN(Value))return-1;i_value=Select[0].text.substring(0,Value.length).toUpperCase();if(i_value>Value)return 0;i_value=Select[Select.length-1].text.substring(0,Value.length);if(i_value<Value)return Select.length-1};return-1};this.con=document.createElement('DIV');this.con.className='dhtmlxRichSelector';with(this.con.style){width='auto';display='none'};this.con.appendChild(this.editor);this.con.appendChild(this.selector);this.SB.parentNode.insertBefore(this.con,this.SB);return this};dhtmlxRichSelector.prototype.show=function(){this.con.style.display='block';with(this.selector.style){marginTop=parseInt(this.SB.offsetHeight)+'px';width='auto'};with(this.editor.style){width=parseInt(this.SB.offsetWidth)+15+'px';height=parseInt(this.SB.offsetHeight)+'px'};this.selector.selectedIndex=this.selector.gg(this.SI);this.editor.focus()};dhtmlxRichSelector.prototype.hide=function(){this.con.style.display='none'};dhtmlxRichSelector.prototype.onBlur=function(){var self=this._s;self.Wm=setTimeout(function(){if(self.YI){if(self.onSelect(self.editor.value))self.SI=self.editor.value}else{if(self.onSelect(self.selector.value))self.SI=self.selector.value}},10)};dhtmlxRichSelector.prototype.onFocus=function(){var self=this._s;if(self.Wm){clearTimeout(self.Wm);self.Wm=null};if(this===this._s.selector)self.editor.focus()};dhtmlxCalendarObject.prototype.setHeader=function(Yi,aaG,XA){with(this.options){RZ=Yi;UX=aaG;if(XA)QZ=XA};this.setSkin(this.skinName)};dhtmlxCalendarObject.prototype.Vs=function(Xw,Xt){this.options.VG=[parseInt(Xw),parseInt(Xt)];this.Ua=[];for(var i=Xw;i<=Xt;i++)this.Ua.push(i)};dhtmlxCalendarObject.prototype.Yd=function(e){e=e||event;if((e.button===0)||(e.button===1)){if(this.YE){this.dc(e)};this.adz=e.clientX;this.adB=e.clientY;this.WO=this.fI(this.parent);document.body.appendChild(this.parent);with(this.parent.style){left=this.WO[0]+'px';top=this.WO[1]+'px';margin='0px';position='absolute'};if(this.ifr){this.ifr.style.top='0px';this.ifr.style.left='0px'};this.XH=document.body.onmousemove;var self=this;document.body.onmousemove=function(e){self.onDrag(e)};this.Ye=document.body.onmouseup;document.body.onmouseup=function(e){self.dc(e)};this.YE=true}};dhtmlxCalendarObject.prototype.onDrag=function(e){e=e||event;if((e.button===0)||(e.button===1)){var delta_x=this.adz-e.clientX;var delta_y=this.adB-e.clientY;this.parent.style.left=this.WO[0]-delta_x+'px';this.parent.style.top=this.WO[1]-delta_y+'px';if(this.EP){this.tp.Yy(ej(this.parent)+30,dg(this.parent)+160)};if(this.ifr!=undefined){this.ifr.style.left=0;this.ifr.style.top=0}}else{this.dc(e)}};dhtmlxCalendarObject.prototype.dc=function(e){e=e||event;document.body.onmouseup=(this.Ye===window.undefined)?null:this.Ye;document.body.onmousemove=(this.XH===window.undefined)?null:this.XH;this.YE=false};dhtmlxCalendarObject.prototype.minimize=function(){if(!this.winHeader)return;this.minimized= !this.minimized;this.aL.style.display=(!this.minimized)?'':'none';this.setSkin(this.skinName)};dhtmlxCalendarObject.prototype.aae=function(value){if(!isNaN(value)){this.asz.date[this.asz._activeConInd()].setFullYear(Math.min(Math.max(value,this.asz.Ua[0]),this.asz.Ua.slice(-1)))};this.asz.zv();return(!isNaN(value))};dhtmlxCalendarObject.prototype.ZX=function(value){this.asz.date[this.asz._activeConInd()].setMonth(value);this.asz.zv();return true};dhtmlxCalendarObject.prototype.Yy=function(argA,argB,argC){if(typeof(argA)=='object'){var acN=this.fI(argA);var left=acN[0]+argA.offsetWidth+(argC||0);var top=acN[1]+(argB||0)};this.parent.style.position="absolute";this.parent.style.top=(top||argA)+"px";this.parent.style.left=(left||argB)+"px";if(this.ifr!=undefined){this.ifr.style.left='0px';this.ifr.style.top='0px'};if(this.EP)this.tp.Yy(ej(this.parent)+30,dg(this.parent)+160)};dhtmlxCalendarObject.prototype.close=function(aQ){this.hide()};dhtmlxCalendarObject.prototype.fI=function(PN,Bx){if(!Bx)var Bx=document.body;var dJ=PN;var uW=0;var AP=0;while((dJ)&&(dJ!=Bx)){uW+=dJ.offsetLeft-dJ.scrollLeft;AP+=dJ.offsetTop-dJ.scrollTop;dJ=dJ.offsetParent};if(Bx==document.body){if(_isIE){if(document.documentElement.scrollTop)AP+=document.documentElement.scrollTop;if(document.documentElement.scrollLeft)uW+=document.documentElement.scrollLeft}else if(!aq){uW+=document.body.offsetLeft;AP+=document.body.offsetTop}};return new Array(uW,AP)};dhtmlxCalendarObject.prototype.QW=function(fromDate,abV){if(fromDate)if(fromDate instanceof Date){this.Vo=this.wA(fromDate)}else{this.Vo=fromDate.toString().split(',')};if(abV)this.WR=this.wA(abV);if(this.QE)this.zv()};dhtmlxCalendarObject.prototype.setHolidays=function(dates){this.holidays=dates.toString().split(",");if(this.QE)this.zv()};dhtmlxCalendarObject.prototype.onChangeMonth=function(aQ){this.attachEvent("onChangeMonth",aQ)};dhtmlxCalendarObject.prototype.setInsensitiveDates=function(dates){this.insensitiveDates=dates.toString().split(",");if(this.QE)this.zv()};dhtmlxCalendarObject.prototype.enableTime=function(mode){if(this.EP=mode){this.tp=new dhtmlXTimePicker();this.tp.Yy(ej(this.parent)+30,dg(this.parent)+160);for(m in dhtmlXTimePicker.prototype)(function(m){if(!dhtmlxCalendarObject.prototype[m])dhtmlxCalendarObject.prototype[m]=function(){return this.tp[m].apply(this.tp,arguments)}})(m)}else{this.tp.aL.parentNode.removeChild(this.tp.aL);this.tp=null};this.setSkin(this.skinName)};dhtmlxCalendarObject.prototype.setHeaderText=function(text){this.options.headerText=text;if(this.headerLabel){this.headerLabel.childNodes[0].nodeValue=text;this.headerLabel.setAttribute('title',text)}};dhtmlxCalendarObject.prototype.disableIESelectFix=function(mode){this.useIframe= !mode;if(this.ifr!=undefined){this.ifr.parentNode.removeChild(this.ifr);this.ifr=null}}